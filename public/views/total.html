<div ng-controller="TableCtrl">


<px-card>
<body>
<h1 align="center" size="20"><br><br><br>Monthly Ouputs</h1>
<px-data-table striped filterable enable-column-resize table-data="{{avgData}}">
	<px-data-table-column name="month" filterable><px-data-table-column>
	<px-data-table-column name="year" filterable><px-data-table-column>
	<px-data-table-column name="sce"><px-data-table-column>
	<px-data-table-column name="trigen"><px-data-table-column>
	<px-data-table-column name="solar"><px-data-table-column>
</px-data-table>

<section>
<h2><center>2014 Outputs</center></h2>


<div id="echart1" style="width: 900px;height:700px;"></div>
<h2><center>2015 Outputs</center></h2>
<div id="echart2" style="width: 900px;height:700px;"></div>
    <script type="text/javascript">
        // inital echart based on dom
        var myChart = echarts.init(document.getElementById('echart1'));

        // chart option
        var option = {
    tooltip : {
        trigger: 'axis',
        axisPointer : {            // axis
            type : 'shadow'        // options：'line' | 'shadow'
        }
    },
    legend: {
        data: ['Solar','Souther California Edison', 'Trigen']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis:  {
        type: 'value'
    },
    yAxis: {
        type: 'category',
        data: ['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC']
    },
    series: [
        {
            name: 'Solar',
            type: 'bar',
            stack: 'Summary',
            label: {
                normal: {
                    show: true,
                    position: 'insideRight'
                }
            },
            data: [0, 0, 370.92, 5645.61, 6026.77, 6998.67, 5493.32, 6414.88, 5252.43, 4125.13, 3744.51, 2817.93]
        },
        {
            name: 'Souther California Edison',
            type: 'bar',
            stack: 'Summary',
            label: {
                normal: {
                    show: true,
                    position: 'insideRight'
                }
            },
            data: [0,0,328.54,21437.18,27155.91,13345.64,27308.4,25132.23,50441.02,32248.2,21231.59,61637.0]
        },
        {
            name: 'Trigen',
            type: 'bar',
            stack: 'Summary',
            label: {
                normal: {
                    show: true,
                    position: 'insideRight'
                }
            },
            data: [0, 0, 5327.4, 95442.71, 87850.37, 90902.71, 94846.73, 94419.25, 86307.96, 94690.22, 85629.58, 40113.08]
        }
        ]};

        // render chart
        myChart.setOption(option);
    </script>
<script type="text/javascript">
        // inital echart based on dom
        var myChart = echarts.init(document.getElementById('echart2'));

        // chart option
        var option = {
    tooltip : {
        trigger: 'axis',
        axisPointer : {            // axis
            type : 'shadow'        // options：'line' | 'shadow'
        }
    },
    legend: {
        data: ['Solar','Souther California Edison', 'Trigen']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis:  {
        type: 'value'
    },
    yAxis: {
        type: 'category',
        data: ['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC']
    },
    series: [
        {
            name: 'Solar',
            type: 'bar',
            stack: 'Summary',
            label: {
                normal: {
                    show: true,
                    position: 'insideRight'
                }
            },
            data: [3387.98, 4407.39, 5277.63, 5557.56, 4912.06, 5987.23, 5234.11, 4233.04, 3658.31, 2973.88, 2753.33, 2305.83]
        },
        {
            name: 'Souther California Edison',
            type: 'bar',
            stack: 'Summary',
            label: {
                normal: {
                    show: true,
                    position: 'insideRight'
                }
            },
            data: [21320.07, 27393.65, 23647.83, 25369.0, 20919.26, 23334.32, 33182.63, 44757.61, 58147.12, 48235.6, 27702.97, 12983.32]
        },
        {
            name: 'Trigen',
            type: 'bar',
            stack: 'Summary',
            label: {
                normal: {
                    show: true,
                    position: 'insideRight'
                }
            },
            data: [80232.09, 87488.99, 96233.48, 90766.91, 85113.2, 90787.51, 88218.33, 90832.3, 94688.19, 94752.49, 82177.07, 86104.67]
        }
        ]};

        // render chart
        myChart.setOption(option);
    </script>




</section>

<px-chart>
<px-chart-series-line data={{solarData}} id="SolarData Test"></px-chart-series-line>
</px-chart>

<px-card>
	<br><h1 align="center">Trigen Downtime</h1>
	<table style="width: 100%; text-align: left">
<thead>
<th>StartTime</th>
<th>EndTime</th>
<th>Total Increase in SCE</th>
<th>Total Cost</th>
</thead>	

	<tr ng-repeat="down in downTime">
	<td>{{down.startDate  * 1000 | date : 'short' : 'UTC'}}</td>	
	<td>{{down.endDate * 1000 | date : 'short' : 'UTC'}}</td>
	<td>{{down.sceTotal | number : 2}}	kWh</td>
	<td>{{down.sceTotal * price | currency}}</td>
	</tr>
	</table>
	<p>Total increase in SCE is calculated by using the total average SCE comsumption.</p>
	<p>This is an estimate!</p>
	</px-card>
</body>

</px-card>

</div>
